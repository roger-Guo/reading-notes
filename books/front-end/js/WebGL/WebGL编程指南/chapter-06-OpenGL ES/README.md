# OpenGL ES着色器语言(GLSL ES)
## 数据值类型
* __`数值类型`__ 整型 浮点型
* __`布尔值类型`__
## 赋值类型转换
```GLSL ES
float f1 = 8 // 错误
float f1 = float(8) // 类型转换
```
## 矢量和矩阵
* __`vec2-4 ivec2-4 bvec2-4`__ 具有2、3、4个浮点、整型、布尔型的矢量
* __`mat2-4`__ 2*2、3*3、4*4的浮点数元素矩阵
### 赋值和构造
```GLSL ES
// 矢量构造函数
vec3 v3 = vec3(1.0, 0.0, 0.5);
vec3 v2 = vec2(v3); // v2为(1.0, 0.0)
// 矩阵构造函数
将一个行主序的矩阵转换为列主序的矩阵 然后赋值给矩阵构造函数才能正确使用
// 平移矩阵 x` = x + Tx
mat4 m4 = mat4(
    1.0, 0.0, 0.0, 0.0,
    0.0, 1.0, 0.0, 0.0,
    0.0, 0.0, 1.0, 0.0,
    Tx, Ty, Tz, 1.0
)
// 使用两个vec2对象量创建mat2对象
// 使用一个vec4对象量创建mat2对象
// 使用两个浮点数和一个vec2对象量创建mat2对象 效果完全一样 记得列主序
vec4 v4 = vec4(1.0, 0.0, 0.5， 1.0);
mat2 m2 = mat2(v4) // 1.0 0.5
                   // 0.0 1.0
```
## 访问元素
* __`x、y、z、w`__ 用来获取顶点坐标分量
* __`r、g、b、a`__ 用来获取颜色分量
* __`s、t、p、q`__ 用来获取纹理坐标分量
### 混合 将同一个集合的多个分量名共同置于点运算符后，就可以从矢量中同时抽取出多个分量。
```GLSL ES
vec3 v3 = vec3(1.2, 2.0, 3.0);
vec2 v2 = v3.xy; // (1.2, 2.0);
```
## []运算符
```GLSL ES
float m32 = m4[2].y; // 将M32设置为m4矩阵第三列中的第二个元素
```
## __`结构体`__ 自定义类型即结构体
```
struct light{
  vec4 color;
  vec3 position;
}

light l1;
l1 = light(vec4(0.0, 1.0, 0.0, 1.0), vec3(8.0, 3.0, 0.0));
```
## __`数组`__ GLSL ES只支持一维数组，不支持push()pop()等操作
```GLSL ES
float floatArray[4] // 声明含有4个浮点数元素的数组
vec4 vec4Array[2] // 声明含有2个vec4元素的数组
int size = 4;
vec4 vec4Array[size]; // 错误 如果第一行为const int size = 4;则不会出错
```
## __`取样器(纹理)`__ 将GLSL ES支持的一种内置类型称为取样器, 我们通过该类型变量访问纹理。有两种基本的取样器类型: __`sampler2D`__ 和 __`samplerCube`__ 。取样器变量只能是uniform变量。
## __`规范声明`__ 如果函数定义在其调用之后，那么我们必须在进行调用之前声明该函数的规范。规范声明会预先告诉WebGL系统函数的参数、参数类型、返回值等等。
## __`参数限定词`__ 函数参数指定限定字，以控制其行为
* __`in`__ 函数内部的修改不会影响传入的变量
* __`const in`__ 参数值不能被修改
* __`out`__ 传入变量的引用，若在函数内被修改，则会影响到函数外部传入的变量
* __`inout`__ 传入变量的引用，函数会用到变量的初始值，然后修改变量的值，会影响到函数外部传入的变量
## __`存储限定字`__ 用来修饰变量
* __`const`__ 表示着色器中某个变量是恒定的量
* __`attribute`__ attribute只能出现在顶点着色器中，只能被什么声明为全局变量，被用来表示逐顶点的信息。
* __`uniform`__ 必须是全局变量，他可以是除了数组或结构体外的任何类型。如果顶点着色器和片元着色器声明了同名的uniform变量，那么它就会被两种着色器共享。uniform变量包含了"一致"(非逐顶点/逐片元的，各顶点或各片元公用)的数据。
* __`varying`__ 必须是全局变量，任务是从顶点着色器向片元着色器传输数据。我们必须在两种着色器中声明同名、同类型的varying变量
## __`精度限度字`__ 表示每种数据类型的精度(比特数)。为了能够更精细的控制程序在效果和性能之间的平衡
* __`highp`__ 高精度
* __`mediump`__ 中精度
* __`lowp`__ 低精度
### 片元着色器中的float类型没有默认精度，我们需要手动指定. precision来声明默认精度
precision mediump float;
## __`预处理指令`__ 在真正编译之前对代码进行预处理，以#开头。
